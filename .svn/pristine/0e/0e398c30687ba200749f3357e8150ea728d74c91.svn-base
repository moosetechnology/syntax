  ########################################################
  #                                                      #
  #                                                      #
  # Copyright (c) 1984 by Institut National de Recherche #
  #                    en Informatique et en Automatique #
  #                                                      #
  #                                                      #
  ########################################################

  ########################################################
  #                                                      #
  #  Produit de l'equipe Langages et Traducteurs. (phd)  #
  #                                                      #
  ########################################################

# This file was formerly generated by m4 from $(SX)/etc/s.Makefile

include $(SX)/etc/make/gccoptions

BIB=$(SXLIB)/libsxutil.a

CC=$(COMPILER) -I$(SXINCL) -I$(SXINCL)/util

FORCE=$(SX)/incl/sxunix.h

all: $(BIB)

BNF_RWF=	$(BIB)(bnffree.o)	\
		$(BIB)(bnfread.o)	\
		$(BIB)(bnfwrite.o)
BSTR=		$(BIB)(bstr.o)
LECL_RWF=	$(BIB)(leclfree.o)	\
		$(BIB)(leclread.o)	\
		$(BIB)(leclwrite.o)
PARADIS_RWF=	$(BIB)(paradisfree.o)	\
		$(BIB)(paradisread.o)	\
		$(BIB)(paradiswrite.o)
PARSER_RWF=	$(BIB)(parserfree.o)	\
		$(BIB)(parserread.o)	\
		$(BIB)(parserwrite.o)
PRIO_RWF=	$(BIB)(priofree.o)	\
		$(BIB)(prioread.o)	\
		$(BIB)(priowrite.o)
RECOR_RWF=	$(BIB)(recorfree.o)	\
		$(BIB)(recorread.o)	\
		$(BIB)(recorwrite.o)
SEMAT_RWF=	$(BIB)(sematfree.o)	\
		$(BIB)(sematread.o)	\
		$(BIB)(sematwrite.o)

$(BIB): 	$(FORCE)		\
		$(BNF_RWF)		\
		$(BSTR)			\
		$(LECL_RWF)		\
		$(PARADIS_RWF)		\
		$(PARSER_RWF)		\
		$(PRIO_RWF)		\
		$(RECOR_RWF)		\
		$(SEMAT_RWF)
	cd $(SXLIB) ; $(RANLIB) $@


$(BNF_RWF)		:	$(FORCE)	$(SXINCL)/util/B_tables.h
$(BSTR)			:	$(FORCE)	$(SXINCL)/util/bstr.h
$(LECL_RWF)		:	$(FORCE)	$(SXINCL)/util/S_tables.h
$(PARADIS_RWF)		:	$(FORCE)	$(SXINCL)/util/PP_tables.h
$(PARSER_RWF)		:	$(FORCE)	$(SXINCL)/util/P_tables.h
$(PRIO_RWF)		:	$(FORCE)	$(SXINCL)/util/D_tables.h
$(RECOR_RWF)		:	$(FORCE)	$(SXINCL)/util/R_tables.h
$(SEMAT_RWF)		:	$(FORCE)	$(SXINCL)/util/T_tables.h

clean:
	/bin/rm -f $(SXLIB)/*.o
	# ajoute par Hubert, car des fichiers .o sont parfois crees dans $(SXUTIL)
	/bin/rm -f $(SXUTIL)/*.o


