  ########################################################
  #                                                      #
  #                                                      #
  # Copyright (c) 1984 by Institut National de Recherche #
  #                    en Informatique et en Automatique #
  #                                                      #
  #                                                      #
  ########################################################

  ########################################################
  #                                                      #
  #  Produit de l'équipe Langages et Traducteurs. (phd)  #
  #                                                      #
  ########################################################

# This file was formerly generated by m4 from $(SX)/s.Makefile

include $(SX)/etc/make/gccoptions

BIB=$(SXLIB)/libsx.a

CC=$(COMPILER) -I$(SXINCL)
# ... et pour quelques warnings de plus
#CC=$(COMPILER) -Wcomment -Wformat -Wimplicit -Wreturn-type -Wmain -Wswitch -I$(SXINCL) # -Wunused -Wuninitialized -Wtrigraphs -Wparentheses -Wtraditional  -Wredundant-decls  -Wchar-subscripts

FORCE=$(SXINCL)/sxunix.h

all libsx: $(SXINCL)/sxversion.h $(BIB)

DEBUG_ACTION=		$(BIB)(dbgaction.o)
SORT_BY_TREE=		$(BIB)(sort_by_tree.o)
SX_ARGS_MANAGER=	$(BIB)(sxnumarg.o)
SX_AT_MANAGER=		$(BIB)(sxatc.o)	\
			$(BIB)(sxatcpp.o)	\
			$(BIB)(sxatedit.o)	\
			$(BIB)(sxat_mngr.o)	\
			$(BIB)(sxsmp.o)
SX_BITS_ARRAY=		$(BIB)(sxbitsarray.o)	\
			$(BIB)(sxba_print.o)	\
			$(BIB)(sxba_write.o)	\
			$(BIB)(sxba_read.o)	\
			$(BIB)(sxba_ops.o)	\
			$(BIB)(sxba_ops2.o)	\
			$(BIB)(sxba_ops3.o)	\
			$(BIB)(sxba_ops4.o)	\
			$(BIB)(sxba_2op.o)	\
			$(BIB)(sxba_bag_mngr.o)\
			$(BIB)(sxbatrap.o)	\
			$(BIB)(sxbitsmatrix.o)
SX_CHAR_TO_STRING=	$(BIB)(sxc_to_str.o)
SX_COMMENT_MANAGER=	$(BIB)(sxcomment_mngr.o)
SX_DICO=		$(BIB)(sxdico_get.o)	\
			$(BIB)(sxdico_process.o)
SX_ERROR_MANAGER=	$(BIB)(sxcheckmagic.o)	\
			$(BIB)(sxexit.o)	\
			$(BIB)(sxerr_mngr.o)
SX_ERROR_RECOVERY=	$(BIB)(sxp_rcvr.o)	\
			$(BIB)(sxp_rcvr32.o)	\
			$(BIB)(sxp_srcvr.o)	\
			$(BIB)(sxp_srcvr32.o)	\
			$(BIB)(sxs_rcvr.o)	\
			$(BIB)(sxs_rcvr32.o)	\
			$(BIB)(sxs_srcvr.o)	\
			$(BIB)(sxs_srcvr32.o)
SX_FILE_MANAGER=	$(BIB)(sxfilecopy.o)	\
			$(BIB)(sxtmpfile.o)
SX_GET_BIT=		$(BIB)(sxgetbit.o)	\
			$(BIB)(sxgetprdct.o)
SX_INDEX=		$(BIB)(sxindex_mngr.o)
SX_LISTING_OUTPUT=	$(BIB)(sxlistout.o)
SX_MEMORY_MANAGER=	$(BIB)(sxmem_mngr.o)	\
			$(BIB)(sxgc.o)
SX_NEXT_PRIME=		$(BIB)(sxnext_prime.o)
SX_PARAGRAPHEURS=	$(BIB)(sxppp.o)	\
			$(BIB)(sxpptree.o)
SX_PARSER=		$(BIB)(sxparser.o)	\
			$(BIB)(sxparser32.o)
SX_SCANNER=		$(BIB)(sxscanner.o)	\
			$(BIB)(sxscanner32.o)
SX_SOURCE_MANAGER=	$(BIB)(sxsrc_mngr.o)	\
			$(BIB)(sxincl_mngr.o)
SX_STRINGS_MANAGER=	$(BIB)(sxstr_mngr.o)	\
			$(BIB)(sxword_mngr.o)	\
			$(BIB)(sxscrmbl.o)
SX_SYNTAX_MANAGER=	$(BIB)(sxopentty.o)	\
			$(BIB)(sxsyntax.o)	\
			$(BIB)(sxtm_mngr.o)	\
			$(BIB)(sxvars.o)	\
			$(BIB)(sxvars2.o)
SX_TOKEN_MANAGER=	$(BIB)(sxtoken_mngr.o)
SS_MNGR=		$(BIB)(SS_mngr.o)
VARSTR=			$(BIB)(varstralloc.o)	\
			$(BIB)(varstrcat.o)	\
			$(BIB)(varstrfree.o)	\
			$(BIB)(varstrraz.o)
X_MNGR=			$(BIB)(X_mngr.o)
X_ROOT_MNGR=		$(BIB)(X_root_mngr.o)
SXLIST_MNGR=		$(BIB)(XH_mngr.o)	\
			$(BIB)(sxsubset_mngr.o)
XxY_MNGR=		$(BIB)(XxY_mngr.o)
XxYxZ_MNGR=		$(BIB)(XxYxZ_mngr.o)
FSA_MNGR=		$(BIB)(fsa_mngr.o)
PUT_EDIT=		$(BIB)(puteditcut.o)	\
			$(BIB)(puteditfnb.o)	\
			$(BIB)(puteditnl.o)	\
			$(BIB)(puteditpos.o)
EQ_SORT=		$(BIB)(eq_sort.o)	\
			$(BIB)(fermer.o)
void=			$(BIB)(sxvoid.o)

$(BIB):		$(FORCE)		\
		$(FSA_MNGR)		\
		$(DEBUG_ACTION)		\
		$(SORT_BY_TREE)		\
		$(SX_ARGS_MANAGER)	\
		$(SX_AT_MANAGER)	\
		$(SX_BITS_ARRAY)	\
		$(SX_CHAR_TO_STRING)	\
		$(SX_COMMENT_MANAGER)	\
		$(SX_DICO)		\
		$(SX_ERROR_MANAGER)	\
		$(SX_ERROR_RECOVERY)	\
		$(SX_FILE_MANAGER)	\
		$(SX_GET_BIT)		\
		$(SX_INDEX)		\
		$(SX_LISTING_OUTPUT)	\
		$(SX_MEMORY_MANAGER)	\
		$(SX_NEXT_PRIME)	\
		$(SX_D)			\
		$(SX_PARAGRAPHEURS)	\
		$(SX_PARSER)		\
		$(SX_SCANNER)		\
		$(SX_SOURCE_MANAGER)	\
		$(SX_STRINGS_MANAGER)	\
		$(SX_SYNTAX_MANAGER)	\
		$(SX_TOKEN_MANAGER)	\
		$(SS_MNGR)		\
		$(VARSTR)		\
		$(X_MNGR)		\
		$(X_ROOT_MNGR)		\
		$(SXLIST_MNGR)		\
		$(XxY_MNGR)		\
		$(XxYxZ_MNGR)		\
		$(PUT_EDIT)		\
		$(EQ_SORT)		\
		$(void)

	cd $(SXLIB) ; $(RANLIB) $@

$(DEBUG_ACTION)		:	$(FORCE)
$(SORT_BY_TREE)		:	$(FORCE)
$(SX_AT_MANAGER)	:	$(FORCE)
$(SX_ARGS_MANAGER)	:	$(FORCE)
$(SX_BITS_ARRAY)	:	$(FORCE)	$(SXINCL)/sxba.h
$(SX_CHAR_TO_STRING)	:	$(FORCE)
$(SX_COMMENT_MANAGER)	:	$(FORCE)	$(SXINCL)/varstr.h
$(SX_DICO)		:	$(FORCE)	$(SXINCL)/sxdico.h
$(SX_ERROR_MANAGER)	:	$(FORCE)
$(SX_ERROR_RECOVERY)	:	$(FORCE)
$(SX_FILE_MANAGER)	:	$(FORCE)
$(SX_GET_BIT)		:	$(FORCE)
$(SX_INDEX)		:	$(FORCE)
$(SX_LISTING_OUTPUT)	:	$(FORCE)
$(SX_MEMORY_MANAGER)	:	$(FORCE)
$(SX_NEXT_PRIME)	:	$(FORCE)
$(SX_D)			:	$(FORCE)	$(SXINCL)/SS.h
$(SX_PARAGRAPHEURS)	:	$(FORCE)
$(SX_PARSER)		:	$(FORCE)
$(SX_SCANNER)		:	$(FORCE)
$(SX_SOURCE_MANAGER)	:	$(FORCE)
$(SX_STRINGS_MANAGER)	:	$(FORCE)
$(SX_SYNTAX_MANAGER)	:	$(FORCE)
$(SX_TOKEN_MANAGER)	:	$(FORCE)
$(SS_MNGR)		:	$(FORCE)
$(VARSTR)		:	$(FORCE)
$(X_MNGR)		:	$(FORCE)	$(SXINCL)/X.h
$(X_ROOT_MNGR)		:	$(FORCE)	$(SXINCL)/X_root.h
$(SXLIST_MNGR)		:	$(FORCE) 	$(SXINCL)/XH.h $(SXINCL)/sxsubset.h
$(XxY_MNGR)		:	$(FORCE)	$(SXINCL)/XxY.h
$(XxYxZ_MNGR)		:	$(FORCE)	$(SXINCL)/XxYxZ.h
$(FSA_MNGR)		:	$(FORCE)        $(SXINCL)/fsa.h
$(PUT_EDIT)		:	$(FORCE)
$(EQ_SORT)		:	$(FORCE)	$(SXINCL)/sxba.h	$(SXINCL)/sxstack.h
$(void)		:	$(FORCE)

$(SXINCL)/sxversion.h: 
	$(SX)/etc/bin/make-sxversion $(SX)

.PHONY: $(SXINCL)/sxversion.h

clean:
	/bin/rm -f $(SXSRC)/*.o

